<!DOCTYPE html>
<html>
  <head>
    <title>Touch Experiment</title>
    <meta author="Joshua Marshall Moore">
  </head>
  <body>
    <canvas id="canvas" width="window.innerWidth" height="window.innerHeight"style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></canvas>
    <input type="range" value="1" id="size" style="position: absolute; top: 0; left: 0;"/>
    
    <script type="text/javascript">

var canvas = document.getElementById('canvas');
var context = canvas.getContext('2d');
var sizeInput = document.getElementById('size');

context.imageSmoothingEnabled = false;

canvas.addEventListener('touchstart', function(event){
  renderTouches(context, event.touches, sizeInput.value);
}, false);

canvas.addEventListener('touchmove', function(event){
  renderTouches(context, event.touches, sizeInput.value);
}, false);

canvas.addEventListener('touchend', function(event){
}, false);

console.log('window', window.innerWidth, window.innerHeight);

/*
  Thanks http://www.ckollars.org/canvas-two-coordinate-scales.html
*/
function renderTouches(context, touches, size){
  for(var i=0; i<touches.length; i++){
    context.fillStyle = "rgba(0,0,0,255)";
    context.fillRect(
      Math.round(touches[i].pageX * ( canvas.width / canvas.offsetWidth )), 
      Math.round(touches[i].pageY * ( canvas.height / canvas.offsetHeight)), 
      size, 
      size
    );
  }
}

    </script>
  </body>
</html>
